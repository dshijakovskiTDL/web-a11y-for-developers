<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/jpeg" href="../../public/tdl-logo.jpg" />

    <title>Web A11y for Devs | Forms</title>

    <link rel="stylesheet" href="../styles/index.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@200..1000&display=swap"
    />

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <script defer>
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelector('#current-year').textContent = new Date().getFullYear();
      });
    </script>

    <!-- Page specific assets: Forms -->
    <link rel="stylesheet" href="../styles/forms.css" />

    <script src="../forms/forms.js" defer></script>
  </head>

  <body class="min-h-dvh">
    <header class="sticky top-0 z-10 py-3">
      <a href="#main-content" class="skip-link">Skip to content</a>

      <nav
        class="container mx-auto flex items-center justify-between gap-4 max-md:flex-wrap [&_a]:p-2"
      >
        <h1 class="max-md:mx-auto">
          <a class="flex items-center gap-2 text-2xl" href="/">
            <img
              src="../../public/tdl-logo.jpg"
              width="30"
              height="30"
              class="inline rounded-full shadow-md"
              alt="TestDevLab"
            />
            Web A11y for Devs
          </a>
        </h1>

        <ul
          class="flex flex-wrap gap-2 *:min-w-fit max-md:w-full max-md:justify-between max-sm:grid max-sm:grid-cols-2 max-sm:text-center"
        >
          <li><a href="./introduction">Introduction</a></li>
          <li><a href="./components">Components</a></li>
          <li><a href="./forms" aria-current="page">Forms</a></li>
          <li><a href="./best-practices">Best Practices</a></li>
        </ul>
      </nav>
    </header>

    <main id="main-content" tabindex="-1" class="forms">
      <section class="container" aria-labelledby="labels-descriptions">
        <h2 id="labels-descriptions">Labels & Descriptions</h2>

        <ol class="mb-6 mt-4 list-decimal space-y-5 [&_li]:ml-[2ch]">
          <p class="mb-2!">
            When constructing accessible forms, it goes without saying that
            <b>our inputs must be labelled</b>. We can do this using different techniques:
          </p>

          <li>
            <span class="font-semibold">Explicit vs Implicit labeling (Visible labeling)</span>

            <form class="my-5 flex flex-wrap items-center gap-6">
              <div class="form-control">
                <label for="first_name">First name</label>
                <input id="first_name" type="text" placeholder="Explicitly labeled input.." />
              </div>

              <div>
                <label>
                  <span class="block pb-1.5">Last name</span>
                  <input type="text" placeholder="Implicitly labeled input.." />
                </label>
              </div>
            </form>
          </li>

          <li>
            <span class="font-semibold">Invisible labeling</span>

            <form class="my-5 flex flex-wrap items-baseline gap-6">
              <div class="form-control">
                <label>First name</label>
                <input
                  type="text"
                  aria-label="First name"
                  placeholder="Labeled using aria-label..."
                />
              </div>

              <div class="form-control">
                <label id="last-name">Last name</label>
                <input
                  type="text"
                  aria-labelledby="last-name"
                  placeholder="Labeled using aria-labelledby..."
                />
              </div>
            </form>
          </li>

          <li>
            <span class="font-semibold">Group labeling</span>

            <form class="my-5 flex flex-wrap gap-6">
              <fieldset class="w-fit space-y-4 rounded-md border p-4 pt-0">
                <legend class="px-1">Shipping Address</legend>

                <div class="form-control">
                  <label for="shipping-street">Street</label>
                  <input id="shipping-street" type="text" placeholder="Street name..." />
                </div>

                <div class="form-control">
                  <label for="street-number">Number</label>
                  <input
                    id="street-number"
                    type="text"
                    inputmode="numeric"
                    placeholder="Street number..."
                  />
                </div>

                <div class="form-control">
                  <label for="zip-code">ZIP code</label>
                  <input id="zip-code" type="text" placeholder="ZIP code..." />
                </div>
              </fieldset>

              <div
                role="group"
                aria-labelledby="billing-address"
                class="w-fit space-y-4 rounded-md border p-4 pt-0"
              >
                <p id="billing-address" class="px-1">Billing Address</p>

                <div class="form-control">
                  <label for="billing-street">Street</label>
                  <input id="billing-street" type="text" placeholder="Street name..." />
                </div>

                <div class="form-control">
                  <label for="billing-street-number">Number</label>
                  <input
                    id="billing-street-number"
                    type="text"
                    inputmode="numeric"
                    placeholder="Street number..."
                  />
                </div>

                <div class="form-control">
                  <label for="billing-zip-code">ZIP code</label>
                  <input id="billing-zip-code" type="text" placeholder="ZIP code..." />
                </div>
              </div>
            </form>
          </li>
        </ol>

        <h3>Hints & Descriptions</h3>

        <p>
          Some inputs require additional information and we can programmatically connect them to
          that information using the
          <span class="code">aria-describedby</span> attribute.
        </p>

        <form class="my-8 flex flex-wrap items-start gap-6">
          <div class="form-control">
            <label for="hint-email">Email</label>
            <input id="hint-email" type="email" placeholder="Your email here..." />
          </div>

          <div class="form-control">
            <label for="hint-password">Password</label>
            <input
              id="hint-password"
              type="password"
              placeholder="Your password here"
              aria-describedby="password-hint"
            />
            <span id="password-hint" class="block w-full text-end text-sm">
              Must contain at least 12 characters.
            </span>
          </div>
        </form>
      </section>

      <div
        class="container relative mb-4 flex items-stretch gap-4 *:max-w-[75ch] max-2xl:block max-2xl:space-y-8"
      >
        <section class="exercise w-full! shadow-md" aria-labelledby="labeling-exercise">
          <h3 id="labeling-exercise">Homework: Form labeling</h3>

          <p>
            Fix the labeling of the <b>form on the right</b>. Make sure to be on the lookout for
            any:
          </p>

          <ul class="list-disc space-y-1 *:ml-6">
            <li>Incorrectly labeled inputs</li>
            <li>Semantically incorrect labels</li>
            <li>Incorrectly implemented hint messages</li>
            <li>Invalid IDs, or ARIA attributes etc.</li>
          </ul>
        </section>

        <section
          class="max-lg:max-w-[50ch]! bottom-0 right-4 grid h-auto min-h-full w-full rounded-lg 2xl:absolute"
        >
          <div id="hw-1" class="space-y-4" hidden>
            <div>
              <h3 class="my-0! text-xl font-semibold">Register</h3>
              <p class="my-0!">Create an account and you'll be on your way!</p>
            </div>

            <form class="grid grid-cols-2 items-start gap-6 max-lg:block max-lg:space-y-2">
              <div class="form-control">
                <span>Name</span>
                <input type="text" placeholder="Name here..." />
              </div>

              <div class="form-control">
                <span>Email</span>
                <input type="email" placeholder="Email here..." />
              </div>

              <div class="form-control">
                <label for="pwd">Password</label>
                <input id="password" type="password" placeholder="Your password please..." />
                <span class="inline-block w-full text-end text-sm leading-tight"
                  >Must contain at least 8 characters/digits.</span
                >
              </div>

              <div class="form-control">
                <label for="pwd">Confirm password</label>
                <input
                  id="confirm-password"
                  type="password"
                  placeholder="Confirm your password..."
                />
              </div>

              <div role="group" class="col-span-full pt-2">
                <p class="font-semibold">Home Address</p>

                <div class="grid grid-cols-2 gap-6 max-lg:block max-lg:space-y-4">
                  <div class="form-control">
                    <label for="street">Street</label>
                    <input id="street" type="text" placeholder="Street name..." />
                  </div>

                  <div class="form-control">
                    <label for="number">Number</label>
                    <input id="number" type="text" placeholder="Street number..." />
                  </div>
                </div>
              </div>
            </form>
          </div>

          <button hw-toggle="hw-1" hidden class="mx-auto w-fit place-self-center">
            Reveal Homework #1
          </button>
        </section>
      </div>

      <hr />

      <section class="container" aria-labelledby="errors-live-regions">
        <h2 id="errors-live-regions">Errors & Live Regions</h2>

        <p>
          There are many ways we can make an element be a <b>live region</b>. You can check out the
          ways we can do that on the
          <a
            href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Guides/Live_regions"
            target="_blank"
            aria-label="Learn how you can create a live region - MDN Documentation"
          >
            MDN docs for live regions </a
          >.
        </p>

        <p class="pb-2">
          Similar to hint messages, we can programmatically connect our inputs to their error
          messages using the <span class="code">aria-describedby</span> attribute.
        </p>

        <p>Submit the form below to check out live regions used for error messages in action.</p>

        <form id="live-regions" class="mb-10 mt-6 w-full max-w-[50ch] space-y-4 max-md:grid">
          <div class="relative">
            <label for="email">Email</label>
            <input
              id="email"
              type="email"
              placeholder="Your email here..."
              aria-describedby="email-error"
            />
            <span
              id="email-error"
              aria-live="polite"
              class="absolute block w-full text-end text-sm font-semibold text-red-600"
            ></span>
          </div>

          <div class="relative">
            <label for="password">Password</label>
            <input
              id="password"
              type="password"
              placeholder="Your password here"
              aria-describedby="password-error"
            />
            <span
              id="password-error"
              aria-live="polite"
              class="absolute block w-full text-end text-sm font-semibold text-red-600"
            ></span>
          </div>

          <button type="submit" class="mt-8! w-full">Log in</button>
        </form>

        <p>
          The above example demonstrates <b>inline error messages</b> - error messages that appear
          next to the input that they are associated with.
        </p>

        <p class="pb-2">
          There are also <b>summary error messages</b> which appear (usually) at the top of the
          form, listing out all possible error with it.
        </p>

        <p>Submit the form below to check out <b>summary error messages</b> in action.</p>

        <form id="summary-errors" class="mb-10 mt-6 w-full max-w-[50ch]">
          <div role="alert" class="mb-4">
            <div
              class="errors-content hidden rounded-md border p-3 pt-0 font-semibold text-red-600"
            >
              <p class="m-0 p-0">There was a problem submitting the form!</p>

              <ul class="list-disc *:ml-6">
                <li>There was an issue with your email</li>
                <li>Your password was too short</li>
              </ul>
            </div>
          </div>

          <div class="space-y-4">
            <div>
              <label for="summary-email">Email</label>
              <input id="summary-email" type="email" placeholder="Your email here..." />
            </div>

            <div>
              <label for="summary-password">Password</label>
              <input id="summary-password" type="password" placeholder="Your password here" />
            </div>

            <button type="submit" class="mt-6 w-full">Log in</button>
          </div>
        </form>
      </section>

      <div
        class="container relative my-6 flex items-stretch gap-4 *:max-w-[75ch] max-2xl:block max-2xl:space-y-8"
      >
        <section class="exercise shadow-md" aria-labelledby="live-regions-exercise">
          <h3 id="live-regions-exercise">Homework: Errors & Live Regions</h3>

          <p>
            Show the appropriate <b>inline error messages</b> when the <b>form on the right</b> is
            submitted with invalid information:
          </p>

          <ul class="mb-4 list-disc space-y-1 *:ml-6">
            <li>Email or Password cannot be empty.</li>
            <li>
              Email must follow
              <a
                href="https://uibakery.io/regex-library/email#:~:text=be%20IP%20address.-,/%5E%5Ba%2Dz0%2D9!%23%24%25%26%27*%2B/%3D%3F%5E_%60%7B%7C%7D~%2D%5D%2B(%3F%3A%5C.%5Ba%2Dz0%2D9!%23%24%25%26%27*%2B/%3D%3F%5E_%60%7B%7C%7D~%2D%5D%2B)*%40(%3F%3A%5Ba%2Dz0%2D9%5D(%3F%3A%5Ba%2Dz0%2D9%2D%5D*%5Ba%2Dz0%2D9%5D)%3F%5C.)%2B%5Ba%2Dz0%2D9%5D(%3F%3A%5Ba%2Dz0%2D9%2D%5D*%5Ba%2Dz0%2D9%5D)%3F%24/,-Test%20it!"
                target="_blank"
                aria-label="Most common email regular expression pattern"
              >
                the following RegEx pattern</a
              >
              ("The more complex email regex")
            </li>
            <li>Only <b>"company-domain.com"</b> domains are allowed.</li>
            <li>Password must contain <b>at least 12 characters</b>.</li>
          </ul>

          <p class="pb-2">
            If the form is valid - show a <b>success message</b> below the "Log in" button
          </p>

          <p>
            Add your solution (JavaScript) in the
            <span class="code">form-live-regions</span>exercise files.
          </p>
        </section>

        <section class="bottom-0 right-4 grid h-auto min-h-full w-full rounded-lg 2xl:absolute">
          <div id="hw-2" class="w-full max-w-[50ch] space-y-4 2xl:mx-auto" hidden>
            <div class="*:my-0!">
              <h3 class="pb-1">Login</h3>
              <p>Enter your credentials to get access the portal</p>
            </div>

            <form class="w-full space-y-6">
              <div class="form-control">
                <label for="hw-email">Company email</label>
                <input id="hw-email" type="email" placeholder="example@company-domain.com" />
              </div>

              <div class="form-control">
                <label for="hw-pwd">Password</label>
                <input id="hw-pwd" type="password" placeholder="Your password here" />
              </div>

              <button type="submit" class="mt-8 w-full">Log in</button>
            </form>
          </div>

          <button hw-toggle="hw-2" class="w-fit place-self-center">Reveal Homework #2</button>
        </section>
      </div>

      <hr />

      <section class="container" aria-labelledby="loading-success">
        <h2 id="loading-success">Loading & Success States</h2>

        <p>
          When submitting our forms and subsequently informing our users that the submission was
          successful - our forms go through the so-called <b>loading</b> and <b>success</b> states.
        </p>

        <p class="pb-2">
          In order for these states to be properly announced by assistive technologies -
          <b>we need to put them inside live regions</b>.
        </p>

        <p>Submit the form below to see the loading and success states get announced</p>

        <form id="loading-success" class="my-8 w-full max-w-[50ch] space-y-4">
          <div>
            <label for="email">Email</label>
            <input
              readonly
              id="email"
              type="email"
              placeholder="Your email here..."
              value="test@example.com"
            />
          </div>

          <div>
            <label for="password">Password</label>
            <input
              readonly
              id="password"
              type="password"
              placeholder="Your password here"
              value="super_secret_123"
            />
          </div>

          <button type="submit" class="mt-8! w-full">Log in</button>

          <div class="grid place-items-center text-center">
            <div aria-live="polite" class="loading">
              <div class="spinner hidden"></div>
              <span class="sr-only">Loading</span>
            </div>

            <div aria-live="polite" class="success font-semibold text-green-700"></div>
          </div>
        </form>
      </section>

      <hr />

      <section class="container" aria-labelledby="ux-improvements">
        <h2 id="ux-improvements">UX Improvements</h2>

        <p class="pb-6">
          The next step after we make our forms accessible, is to try and make them
          <b>as easy as possible to complete</b> for every user out there. Nobody really likes
          filling out forms, so if we can make this process <b>faster</b> and <b>simpler</b> to do,
          then everybody wins!
        </p>

        <section aria-labelledby="autocomplete-attr" class="mb-10">
          <h3 id="autocomplete-attr">
            The <span class="code text-sm">autocomplete</span> attribute
          </h3>

          <p>
            This attribute helps browsers figure out <b>the meaning of the input elements</b> in our
            forms. There are many values that this attribute can take, feel free to
            <a
              href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/autocomplete#value"
              target="_blank"
              aria-label="Check out all possible values of the autocomplete attribute"
              >check them out</a
            >.
          </p>

          <p>
            Inputs that have correct <span class="code">autocomplete</span> attributes set, can
            leverage ths browsers' <b>autofill</b> feature and automatically fill out the form for
            us, using previously saved information for the same kind of inputs.
          </p>

          <form id="autocomplete" class="my-6 grid w-full max-w-[80ch] gap-y-4 max-lg:max-w-[50ch]">
            <div class="grid grid-cols-2 gap-4 max-lg:grid-cols-1">
              <div>
                <label for="cc_name">Name on card</label>
                <input id="cc_name" type="text" autocomplete="cc-name" />
              </div>

              <div>
                <label for="cc_num">Card number</label>
                <input
                  id="cc_num"
                  type="text"
                  inputmode="numeric"
                  pattern="[0-9]"
                  autocomplete="cc-number"
                />
              </div>

              <div>
                <label for="cc_exp">Expiration date</label>
                <input id="cc_exp" type="text" autocomplete="cc-exp" />
              </div>

              <div>
                <label for="cc_csc">Security code (CVV)</label>
                <input id="cc_csc" type="text" inputmode="numeric" autocomplete="off" />
              </div>
            </div>

            <button type="submit" class="mt-4">Pay now</button>
          </form>
        </section>

        <section aria-labelledby="input-mode">
          <h3 id="input-mode">Input mode & keyboard layouts</h3>

          <p>
            Having <b>the appropriate keyboard layout</b> when filling out any input field can save
            users valuable time.
          </p>

          <p>
            We can make this happen by combining the <span class="code">type</span> and
            <span class="code">inputmode</span> attributes.
          </p>

          <form class="my-10 w-full max-w-[50ch]">
            <div class="form-control">
              <label for="input-mode-email">Email</label>
              <input id="input-mode-email" type="email" autocomplete="email" />
            </div>

            <div class="form-control">
              <label for="input-mode-pwd">Password</label>
              <input id="input-mode-pwd" type="password" autocomplete="current-password" />
            </div>

            <button type="submit" class="mt-5! w-full">Log in</button>
          </form>
        </section>
      </section>
    </main>

    <footer class="py-3 text-center font-semibold">
      <p>Web A11y for Devs, <span id="current-year"></span></p>
    </footer>
  </body>
</html>
